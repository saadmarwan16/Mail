(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[10],{281:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(285),s=n.n(a),c=n(286),r=n(282),o=n.n(r),i=n(283),u=n(11),l=function(e,t){return function(){var n=Object(c.a)(s.a.mark((function n(a){var c,r,l;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,o.a.post("".concat("https://mail914.herokuapp.com","/api/token/"),r,c);case 5:l=n.sent,a({type:u.b,payload:l.data,email:e}),a(Object(i.a)("Login successful","success")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),a({type:u.a}),a(Object(i.a)("Oops! Login failed","danger"));case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e){var t=e.name,n=e.email,a=e.password,r=e.confirmation;return function(){var e=Object(c.a)(s.a.mark((function e(c){var p,m,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p={headers:{"Content-Type":"application/json"}},m=JSON.stringify({name:t,email:n,password:a,confirmation:r}),e.prev=2,e.next=5,o.a.post("".concat("https://mail914.herokuapp.com","/api/accounts/signup"),m,p);case 5:d=e.sent,c({type:u.j,payload:d.data}),c(l(n,a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),c({type:u.i}),c(Object(i.a)("Oops! Registration failed","danger"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},m=function(){return function(e){e(Object(i.a)("Logout successful","success")),e({type:u.c,email:null})}}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(335),s=n(11),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(c){var r=Object(a.a)();c({type:s.h,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return c({type:s.g,payload:r})}),n)}}},295:function(e,t,n){"use strict";n(0);var a=n(4);t.a=function(e){var t=e.formDetails,n=e.submitValue,s=e.onSubmit;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("form",{onSubmit:s,children:[t.map((function(e,t){return Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{autoFocus:e.isAutoFocus,className:"form-control auth__subsection__subsection__form__input",type:e.type,placeholder:e.placeholder,name:e.name,value:e.value,onChange:e.onChange})},t)})),Object(a.jsx)("input",{className:"btn btn-primary auth__subsection__subsection__form__btn",type:"submit",value:n})]})})}},330:function(e,t,n){"use strict";n.r(t);var a=n(76),s=n(9),c=n(290),r=n(0),o=n(6),i=n(75),u=n(289),l=n(37),p=n(281),m=n(295),d=n(283),b=n(4);t.default=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{setAlert:d.a,signup:p.c})((function(e){var t=e.setAlert,n=e.signup,l=e.isAuthenticated,p=Object(r.useState)({name:"",email:"",password:"",confirmation:""}),d=Object(c.a)(p,2),h=d[0],f=d[1],_=h.name,j=h.email,g=h.password,O=h.confirmation,v=function(e){return f(Object(s.a)(Object(s.a)({},h),{},Object(a.a)({},e.target.name,e.target.value)))},y=[{isAutoFocus:!0,type:"text",placeholder:"Full name",name:"name",value:_,onChange:v},{isAutoFocus:!1,type:"email",placeholder:"Email Address",name:"email",value:j,onChange:v},{isAutoFocus:!1,type:"password",placeholder:"Password",name:"password",value:g,onChange:v},{isAutoFocus:!1,type:"password",placeholder:"Password Again",name:"confirmation",value:O,onChange:v}];return l?Object(b.jsx)(o.a,{to:"/inbox"}):Object(b.jsxs)("div",{className:"container-fluid auth",children:[Object(b.jsxs)(u.a,{children:[Object(b.jsx)("title",{children:"Register - Mail"}),Object(b.jsx)("meta",{name:"Register to get the best messaging experience",content:"registration page"})]}),Object(b.jsx)("div",{className:"auth__subsection",children:Object(b.jsx)("div",{className:"auth__subsection__subsection",children:Object(b.jsxs)("div",{className:"auth__subsection__subsection__form",children:[Object(b.jsx)("h2",{className:"auth__subsection__subsection__form__heading",children:"Register"}),Object(b.jsx)(m.a,{formDetails:y,submitValue:"Register",onSubmit:function(e){e.preventDefault(),g!==O?t("Oops! Passwords do not match","danger"):g.length<8?t("Oops! Password must contain at least 8 characters","danger"):n({name:_,email:j,password:g,confirmation:O})}}),Object(b.jsxs)("small",{className:"auth__subsection__subsection__form__small",children:["Already have an account?",Object(b.jsx)(i.b,{className:"auth__subsection__subsection__form__small__link",to:"/login",children:"Login"})]})]})})})]})}))}}]);
//# sourceMappingURL=10.efd67a74.chunk.js.map