(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[11],{281:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n(285),c=n.n(a),s=n(286),o=n(282),r=n.n(o),i=n(283),u=n(11),m=function(e,t){return function(){var n=Object(s.a)(c.a.mark((function n(a){var s,o,m;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s={headers:{"Content-Type":"application/json"}},o=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,r.a.post("".concat("https://mail914.herokuapp.com","/api/token/"),o,s);case 5:m=n.sent,a({type:u.b,payload:m.data,email:e}),a(Object(i.a)("Login successful","success")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),a({type:u.a}),a(Object(i.a)("Oops! Login failed","danger"));case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},l=function(e){var t=e.name,n=e.email,a=e.password,o=e.confirmation;return function(){var e=Object(s.a)(c.a.mark((function e(s){var l,p,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={headers:{"Content-Type":"application/json"}},p=JSON.stringify({name:t,email:n,password:a,confirmation:o}),e.prev=2,e.next=5,r.a.post("".concat("https://mail914.herokuapp.com","/api/accounts/signup"),p,l);case 5:b=e.sent,s({type:u.j,payload:b.data}),s(m(n,a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),s({type:u.i}),s(Object(i.a)("Oops! Registration failed","danger"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(e){e(Object(i.a)("Logout successful","success")),e({type:u.c,email:null})}}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(335),c=n(11),s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(s){var o=Object(a.a)();s({type:c.h,payload:{msg:e,alertType:t,id:o}}),setTimeout((function(){return s({type:c.g,payload:o})}),n)}}},288:function(e,t,n){"use strict";n(0);var a=n(75),c=n(37),s=n(281),o=n(4),r=Object(c.b)((function(e){return{email:e.auth.email}}),{logout:s.b})((function(e){var t=e.logout,n=e.email;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h2",{className:"main__owner-address",children:n}),Object(o.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",exact:!0,to:"/inbox",children:"Inbox"}),Object(o.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__compose-btn",to:"/compose",children:"Compose"}),Object(o.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/sent",children:"Sent"}),Object(o.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/archive",children:"Archive"}),Object(o.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/trash",children:"Trash"}),Object(o.jsx)(a.b,{className:"btn btn-sm btn-outline-primary main__logout-btn",to:"/logout",onClick:t,children:"Log Out"}),Object(o.jsx)("hr",{className:"main__seperator"})]})}));t.a=function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"main",children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)(r,{}),Object(o.jsx)("div",{className:"container",children:e.children})]})})})}},325:function(e,t,n){"use strict";n.r(t);var a=n(76),c=n(9),s=n(290),o=n(0),r=n(6),i=n(289),u=n(37),m=n(282),l=n.n(m),p=n(288),b=n(281),j=n(283),d=n(4);t.default=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,email:e.auth.email}}),{setAlert:j.a,logout:b.b})((function(e){var t=e.setAlert,n=e.isAuthenticated,u=e.logout,m=e.email,b=Object(o.useState)(!1),j=Object(s.a)(b,2),h=j[0],_=j[1],f=Object(o.useState)({sender:m,recipients:"",subject:"",composeBody:""}),O=Object(s.a)(f,2),v=O[0],x=O[1],g=v.sender,y=v.recipients,N=v.subject,w=v.composeBody,k=function(e){return x(Object(c.a)(Object(c.a)({},v),{},Object(a.a)({},e.target.name,e.target.value)))};if(!n)return u(),Object(d.jsx)(r.a,{to:"/logout"});if(h)return Object(d.jsx)(r.a,{to:"/sent"});return Object(d.jsxs)(p.a,{children:[Object(d.jsxs)(i.a,{children:[Object(d.jsx)("title",{children:"Compose - Mail"}),Object(d.jsx)("meta",{name:"You can compose and send messages in here",content:"Compose page"})]}),Object(d.jsxs)("div",{className:"main__compose",children:[Object(d.jsx)("h3",{className:"main__compose__heading",children:"New Email"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}},a=JSON.stringify({sender:g,recipients:y,subject:N,body:w});try{l.a.post("".concat("https://mail914.herokuapp.com","/api/emails/compose"),a,n).then((function(e){e.data.success?(t(e.data.success,"success"),_(!0)):t("Oops! ".concat(e.data.error),"danger")}))}catch(c){t("Oops! Something went wrong","danger")}},children:[Object(d.jsxs)("div",{className:"form-group main__compose__sender",children:["From:",Object(d.jsx)("input",{disabled:!0,className:"form-control main__compose__sender__inner",name:"sender",value:g})]}),Object(d.jsxs)("div",{className:"form-group main__compose__recipients",children:["To:",Object(d.jsx)("input",{autoFocus:!0,className:"form-control main__compose__recipients__inner",name:"recipients",placeholder:"Recipient(s)",value:y,onChange:k})]}),Object(d.jsx)("div",{className:"form-group main__compose__subject",children:Object(d.jsx)("input",{className:"form-control main__compose__subject__inner",placeholder:"Subject",name:"subject",value:N,onChange:k})}),Object(d.jsx)("div",{className:"form-group main__compose__body",children:Object(d.jsx)("textarea",{className:"form-control main__compose__body__inner",placeholder:"Body",name:"composeBody",onChange:k,value:w})}),Object(d.jsx)("input",{type:"submit",className:"btn btn-primary main__compose__submit-btn"})]})]})]})}))}}]);
//# sourceMappingURL=11.d52b2861.chunk.js.map