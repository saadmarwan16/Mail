(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[12],{281:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(285),c=n.n(a),i=n(286),s=n(282),r=n.n(s),o=n(283),m=n(11),l=function(e,t){return function(){var n=Object(i.a)(c.a.mark((function n(a){var i,s,l;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,r.a.post("".concat("https://mail914.herokuapp.com","/api/token/"),s,i);case 5:l=n.sent,a({type:m.b,payload:l.data,email:e}),a(Object(o.a)("Login successful","success")),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),a({type:m.a}),a(Object(o.a)("Oops! Login failed","danger"));case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},d=function(e){var t=e.name,n=e.email,a=e.password,s=e.confirmation;return function(){var e=Object(i.a)(c.a.mark((function e(i){var d,u,_;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={headers:{"Content-Type":"application/json"}},u=JSON.stringify({name:t,email:n,password:a,confirmation:s}),e.prev=2,e.next=5,r.a.post("".concat("https://mail914.herokuapp.com","/api/accounts/signup"),u,d);case 5:_=e.sent,i({type:m.j,payload:_.data}),i(l(n,a)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),i({type:m.i}),i(Object(o.a)("Oops! Registration failed","danger"));case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},u=function(){return function(e){e(Object(o.a)("Logout successful","success")),e({type:m.c,email:null})}}},283:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(335),c=n(11),i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(i){var s=Object(a.a)();i({type:c.h,payload:{msg:e,alertType:t,id:s}}),setTimeout((function(){return i({type:c.g,payload:s})}),n)}}},288:function(e,t,n){"use strict";n(0);var a=n(75),c=n(37),i=n(281),s=n(4),r=Object(c.b)((function(e){return{email:e.auth.email}}),{logout:i.b})((function(e){var t=e.logout,n=e.email;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h2",{className:"main__owner-address",children:n}),Object(s.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",exact:!0,to:"/inbox",children:"Inbox"}),Object(s.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__compose-btn",to:"/compose",children:"Compose"}),Object(s.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/sent",children:"Sent"}),Object(s.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/archive",children:"Archive"}),Object(s.jsx)(a.c,{className:"btn btn-sm btn-outline-primary main__nav-btn",to:"/trash",children:"Trash"}),Object(s.jsx)(a.b,{className:"btn btn-sm btn-outline-primary main__logout-btn",to:"/logout",onClick:t,children:"Log Out"}),Object(s.jsx)("hr",{className:"main__seperator"})]})}));t.a=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"main",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(r,{}),Object(s.jsx)("div",{className:"container",children:e.children})]})})})}},336:function(e,t,n){"use strict";n.r(t);var a=n(290),c=n(0),i=n(6),s=n(75),r=n(289),o=n(282),m=n.n(o),l=n(288),d=n(76);function u(e,t){var n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}},a=JSON.stringify(Object(d.a)({},t,!0));try{m.a.put("".concat("https://mail914.herokuapp.com","/api/emails/email/").concat(e),a,n).then((function(e){}))}catch(c){}}function _(e,t){var n={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))}},a=JSON.stringify(Object(d.a)({},t,!1));try{m.a.put("".concat("https://mail914.herokuapp.com","/api/emails/email/").concat(e),a,n).then((function(e){}))}catch(c){}}var j=n(4);t.default=function(e){var t=e.match.params.id,n=e.match.params.mailbox,o=Object(c.useState)({}),d=Object(a.a)(o,2),b=d[0],h=d[1],p=Object(c.useState)(!1),O=Object(a.a)(p,2),x=O[0],f=O[1],v=function(e){"delete"===e.target.innerText?u(t,"trashed"):"restore_from_trash"===e.target.innerText?_(t,"trashed"):"archive"===e.target.innerText?u(t,"archived"):"unarchive"===e.target.innerText?_(t,"archived"):"mark_email_unread"===e.target.innerText&&_(t,"read"),f(!0)};return Object(c.useEffect)((function(){!function(){var e={headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}};try{m.a.get("".concat("https://mail914.herokuapp.com","/api/emails/email/").concat(t),e).then((function(e){e.data.recipients=e.data.recipients.join(),e.data.recipients=e.data.recipients.replace(",",", "),h(e.data)}))}catch(n){}}()}),[t]),x?Object(j.jsx)(i.a,{to:"/".concat(n)}):Object(j.jsxs)(l.a,{children:[Object(j.jsxs)(r.a,{children:[Object(j.jsx)("title",{children:"".concat(b.subject," | ").concat(n.replace(/^\w/,(function(e){return e.toUpperCase()}))," - Mail")}),Object(j.jsx)("meta",{name:"Access a mail here",content:"Single mail page"})]}),Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{children:[Object(j.jsx)("div",{className:"row main__commands",children:Object(j.jsxs)("div",{children:[Object(j.jsx)(s.b,{className:"main__commands__icon",title:"Go back",to:"/".concat(n),children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"west"})}),"archive"===n||"trash"===n?null:Object(j.jsx)("button",{className:"main__commands__icon",title:"Delete",onClick:v,children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"delete"})}),"trash"===n?Object(j.jsx)("button",{className:"main__commands__icon",title:"Restore from trash",onClick:v,children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"restore_from_trash"})}):null,Object(j.jsx)("button",{className:"main__commands__icon",title:"Mark as unread",onClick:v,children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"mark_email_unread"})}),"trash"===n||"sent"===n||"archive"===n?null:Object(j.jsx)("button",{className:"main__commands__icon",title:"Archive",onClick:v,children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"archive"})}),"archive"===n?Object(j.jsx)("button",{className:"main__commands__icon",title:"Unarchive",onClick:v,children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"unarchive"})}):null]})}),Object(j.jsxs)("div",{className:"row main__subject-reply",children:[Object(j.jsx)("h2",{children:b.subject}),Object(j.jsx)(s.b,{title:"Reply",className:"main__commands__icon",to:"/compose",children:Object(j.jsx)("i",{className:"material-icons main__commands__icon__inner",children:"reply"})})]}),Object(j.jsxs)("div",{className:"main__meta",children:[Object(j.jsxs)("div",{className:"main__meta__sender",children:["Sender: ",b.sender]}),Object(j.jsxs)("div",{className:"main__meta__recipients",children:["Recipient(s): ",b.recipients]}),Object(j.jsx)("div",{className:"main__meta__timestamp",children:Object(j.jsxs)("small",{children:["Timestamp: ",b.timestamp]})})]}),Object(j.jsx)("div",{className:"row main__body jumbotron",children:Object(j.jsx)("p",{className:"main__body__content",children:b.body})})]})})]})}}}]);
//# sourceMappingURL=12.34c88f4d.chunk.js.map